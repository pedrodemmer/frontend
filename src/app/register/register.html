<form [formGroup]="form" (ngSubmit)="submit()">
  <h2>Registro</h2>
  <div>
    <label for="nome">Nome:</label>
    <input type="text" id="nome" formControlName="nome" required placeholder="Ex: Rogerio">
    <div *ngIf="form.get('nome')?.invalid && form.get('nome')?.touched" style="color:red;">
      Nome é obrigatório.
    </div>
  </div>
  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" formControlName="email" required placeholder="Ex: rogerio@email.com">
    <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" style="color:red;">
      Email válido é obrigatório.
    </div>
  </div>
  <div>
    <label for="cpf">CPF:</label>
    <input type="text" id="cpf" formControlName="cpf" required maxlength="14" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" placeholder="Ex: 000.000.000-76">
    <div *ngIf="form.get('cpf')?.invalid && form.get('cpf')?.touched" style="color:red;">
      CPF é obrigatório.
    </div>
  </div>
  <div>
    <label for="senha">Senha:</label>
    <input type="password" id="senha" formControlName="senha" required placeholder="Ex: suaSenha123">
    <div *ngIf="form.get('senha')?.invalid && form.get('senha')?.touched" style="color:red;">
      Senha é obrigatória.
    </div>
  </div>
  <div>
    <label for="confirmarSenha">Confirmar Senha:</label>
    <input type="password" id="confirmarSenha" formControlName="confirmarSenha" required placeholder="Repita a senha">
    <div *ngIf="form.get('confirmarSenha')?.invalid && form.get('confirmarSenha')?.touched" style="color:red;">
      Confirme a senha.
    </div>
    <div *ngIf="form.get('confirmarSenha')?.touched && form.value.senha !== form.value.confirmarSenha" style="color:red;">
      As senhas não coincidem.
    </div>
  </div>
  <div>
    <label for="cep">CEP:</label>
    <input type="text" id="cep" formControlName="cep" required maxlength="9" pattern="\d{5}-\d{3}" (blur)="buscarCep()" placeholder="Ex: 01001-000">
    <div *ngIf="form.get('cep')?.invalid && form.get('cep')?.touched" style="color:red;">
      CEP é obrigatório.
    </div>
  </div>
  <div>
    <label for="estado">Estado:</label>
    <input type="text" id="estado" formControlName="estado" readonly placeholder="Ex: SP">
  </div>
  <div>
    <label for="cidade">Cidade:</label>
    <input type="text" id="cidade" formControlName="cidade" readonly placeholder="Ex: São Paulo">
  </div>
  <div>
    <label for="bairro">Bairro:</label>
    <input type="text" id="bairro" formControlName="bairro" readonly placeholder="Ex: Centro">
  </div>
  <div>
    <label for="rua">Rua:</label>
    <input type="text" id="rua" formControlName="rua" readonly placeholder="Ex: Praça da Sé">
  </div>
  <button type="submit">Registrar</button>
  <div *ngIf="message">{{ message }}</div>
</form>
